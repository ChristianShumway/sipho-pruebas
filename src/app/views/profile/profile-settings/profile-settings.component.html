<mat-card class="p-0">
  <mat-tab-group>
    <mat-tab label="Ajustes de la cuenta">
      <mat-card-content class="mt-1" *ngIf="empleado; else loading">
        <form [formGroup]="empleadoForm" (submit)="updateEmploye()">
          <div fxLayout="row wrap">
            <div fxFlex="100" fxFlex.gt-xs="100">
              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="nombre" formControlName="nombre" placeholder="Nombre">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['nombre'].hasError('required') && empleadoForm.controls['nombre'].touched" class="form-error-msg">
                    Nombre del empleado es un campo requerido
                  </small>
                </div>
              </div>
              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="apellidoPaterno" formControlName="apellidoPaterno" placeholder="Apellido Paterno">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['apellidoPaterno'].hasError('required') && empleadoForm.controls['apellidoPaterno'].touched"
                    class="form-error-msg">
                    Apellido paterno es un campo requerido
                  </small>
                </div>
              </div>
              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="apellidoMaterno" formControlName="apellidoMaterno" placeholder="Apellido Materno">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['apellidoMaterno'].hasError('required') && empleadoForm.controls['apellidoMaterno'].touched"
                    class="form-error-msg">
                    Apellido materno es un campo requerido
                  </small>
                </div>
              </div>
              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="direccion" formControlName="direccion" placeholder="Dirección">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['direccion'].hasError('required') && empleadoForm.controls['direccion'].touched" class="form-error-msg">
                    Dirección es un campo requerido
                  </small>
                </div>
              </div>
              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="telefono" formControlName="telefono" placeholder="Teléfono">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['telefono'].hasError('required') && empleadoForm.controls['telefono'].touched" class="form-error-msg">
                    Teléfono es un campo requerido
                  </small>
                </div>
              </div>
              <!-- <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput name="nss" formControlName="nss" placeholder="Número Seguro Social">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['nss'].hasError('required') && empleadoForm.controls['nss'].touched" class="form-error-msg">
                    Número seguro social es un campo requerido
                  </small>
                </div>
              </div>  -->
              <!-- <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput [matDatepicker]="fechaIngreso" formControlName="fechaIngreso" name="date" placeholder="Fecha Ingreso" (dateChange)="onFechaIngreso($event)">
                  <mat-datepicker-toggle matSuffix [for]="fechaIngreso" (selectedChange)="onFechaIngreso($event)"></mat-datepicker-toggle>
                </mat-form-field>
                <mat-datepicker #fechaIngreso></mat-datepicker>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['fechaIngreso'].hasError('required') && empleadoForm.controls['fechaIngreso'].touched"
                    class="form-error-msg">
                    Fecha de ingreso es un campo requerido
                  </small>
                </div>
              </div> -->

              <!-- <div class="pb-1">
                <mat-form-field class="full-width">
                  <mat-label>Perfil</mat-label>
                  <mat-select formControlName="perfil" required>
                    <mat-option *ngFor="let perfil of perfiles" [value]="perfil.idPerfil">
                      {{perfil.descripcion}}
                    </mat-option>
                  </mat-select>
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['perfil'].hasError('required') && empleadoForm.controls['perfil'].touched" class="form-error-msg">
                    Perfil es un campo requerido
                  </small>
                </div>
              </div> -->

              <div class="pb-1">
                <mat-form-field class="full-width">
                  <input matInput type="email" name="email" formControlName="email" placeholder="Correo Electrónico">
                </mat-form-field>
                <div class="validaciones">
                  <small *ngIf="empleadoForm.controls['email'].hasError('required') && empleadoForm.controls['email'].touched" class="form-error-msg">
                    Correo electrónico es un campo requerido
                  </small>
                  <small *ngIf="empleadoForm.controls['email'].hasError('email') && empleadoForm.controls['email'].touched" class="form-error-msg">
                    Correo electrónico invalido
                  </small>
                </div>
              </div>
            </div>
          </div>

          <div class="cont-btns">
            <button mat-raised-button color="primary" [disabled]="empleadoForm.invalid" type="submit">Modificar</button>
          </div>
        </form>
      </mat-card-content>
    </mat-tab>
    <!-- <mat-tab label="Foto de Perfil">
      <mat-card-content class="mt-1" *ngIf="empleado; else loading">
        <div class="mb-1">
          <input style="visibility: hidden;" type="file" #fileInput ng2FileSelect [uploader]="uploaderProfile" />
          <div ng2FileDrop (click)="fileInput.click()" [ngClass]="{'dz-file-over': hasBaseDropZoneOver}" [uploader]="uploaderProfile"
            (fileOver)="fileOverBase($event)" class="fileupload-drop-zone-logo-div">
            <p>Imágen de Perfil</p>
            <p>Arrastra o click sobre la imágen la zona punteada</p>

            <div *ngIf="uploaderProfile.queue.length; else tableNoData">
              <div *ngFor="let item of uploaderProfile.queue ">
                <div *ngIf="!item.isSuccess" class="progress" style="margin-bottom: 0;">
                  <div class="progress-bar" role="progressbar" [ngStyle]="{ 'width': item.progress + '%' }"></div>
                  <mat-progress-bar class="" color="primary" mode="determinate" [value]="item.progress">
                  </mat-progress-bar>
                </div>
              </div>
            </div>

            <div *ngIf = "!empleado">
              <div class="wrap-loading-catalog">
                <mat-spinner [diameter]="40"></mat-spinner>
              </div>
            </div>

            <img *ngIf = "empleado" class="fileupload-drop-zone-logo" src="{{rutaImg}}/employe/photo/{{empleado.imagen}}" alt="">
          </div>
        </div>
      </mat-card-content>
    </mat-tab> -->
  </mat-tab-group>
</mat-card>

<ng-template #loading>
  <div class="wrap-loading-catalog">
    <mat-spinner [diameter]="60"></mat-spinner>
  </div>
</ng-template>